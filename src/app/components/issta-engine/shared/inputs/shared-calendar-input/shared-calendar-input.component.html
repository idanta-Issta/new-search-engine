<div class="calendar-input-wrapper">

  <!-- אינפוט שמציג את הערכים -->
  <div class="calendar-input-display" (click)="toggleDropdown()">

    <div class="label">תאריכים</div>

    <div class="value">
      {{ departureDate ? (departureDate | date:'dd.MM.yy') : '–––' }}
      -
      {{ returnDate ? (returnDate | date:'dd.MM.yy') : '–––' }}
    </div>

    <i class="issta-icon-calendar"></i>
  </div>
 
  <!-- דרופדאון -->
  <div class="dropdown-panel" *ngIf="isOpen">

    <div class="calendar-wrapper">

      <!-- Header -->
      <div class="calendar-header">
        <div class="calendar-title">
          <span class="label">יציאה</span>
          <span class="value">{{ departureDate | date:'d בMMMM yyyy' }}</span>
        </div>

        <div class="calendar-title">
          <span class="label">חזרה</span>
          <span class="value">{{ returnDate | date:'d בMMMM yyyy' }}</span>
        </div>
      </div>

      <div class="calendar-body">

        <!-- חודש שמאל -->
        <div class="calendar-month">

          <div class="month-header">
            <button class="nav-btn" (click)="prevMonth()">‹</button>
            <span class="month-name">{{ leftMonthName }} {{ leftYear }}</span>
          </div>

          <div class="weekday-row">
            <span *ngFor="let d of hebrewWeekdays">{{ d }}</span>
          </div>

          <div class="days-grid">
            <div
              *ngFor="let day of leftMonthDays"
              class="day"
              [class.other-month]="day.other"
              [class.selected]="isSelected(day.date)"
              [class.range]="isInRange(day.date)"
              (click)="selectDate(day.date)"
            >
              {{ day.date.getDate() }}

              <span *ngIf="day.suggested" class="suggest-badge">
                {{ day.suggested.price }} {{ day.suggested.currency }}
              </span>
            </div>
          </div>
        </div>

        <!-- חודש ימין -->
        <div class="calendar-month">

          <div class="month-header">
            <button class="nav-btn" (click)="nextMonth()">›</button>
            <span class="month-name">{{ rightMonthName }} {{ rightYear }}</span>
          </div>

          <div class="weekday-row">
            <span *ngFor="let d of hebrewWeekdays">{{ d }}</span>
          </div>

          <div class="days-grid">
            <div
              *ngFor="let day of rightMonthDays"
              class="day"
              [class.other-month]="day.other"
              [class.selected]="isSelected(day.date)"
              [class.range]="isInRange(day.date)"
              (click)="selectDate(day.date)"
            >
              {{ day.date.getDate() }}

              <span *ngIf="day.suggested" class="suggest-badge">
                {{ day.suggested.price }} {{ day.suggested.currency }}
              </span>
            </div>
          </div>

        </div>

      </div>

    </div>

  </div>

</div>
